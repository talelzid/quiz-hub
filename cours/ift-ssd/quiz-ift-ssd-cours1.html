<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Quiz - Le contexte de travail d'un spécialiste de solutions de données</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <div class="global-course-title">Initiation à la fonction de travail d'un spécialiste de solutions de données</div>
    <h1>Quiz : Le contexte de travail d'un spécialiste de solutions de données (Cours 1)</h1>
    
    <div class="progress-container">
        <div class="progress-info">
            <span id="question-counter">Question 1 / 10</span>
            <div class="progress-stats">
                <span class="stat-badge incorrect"><span class="stat-icon">✕</span><span id="incorrect-count">0</span></span>
                <span class="stat-badge correct"><span class="stat-icon">✓</span><span id="correct-count">0</span></span>
            </div>
        </div>
        <div class="progress-bar-wrapper" id="progressBar"></div>
    </div>
    
    <div id="quiz-container" class="card"></div>
    
    <div id="feedback" class="feedback-container"></div>
    
    <div class="quiz-navigation">
        <button id="prevBtn" onclick="previousQuestion()">← Précédent</button>
        <button id="nextBtn" onclick="nextQuestion()">Suivant →</button>
    </div>
    
    <div id="result"></div>

    <script>
        const questions = [
            {
                q: "Quelle est la mission principale d'une organisation dans le contexte du traitement des données ?",
                options: [
                    { text: "Transformer l'information en valeur pour atteindre ses objectifs.", explain: "" },
                    { text: "Vendre des logiciels de base de données au plus grand nombre.", explain: "Ceci est le modèle d'affaires d'une entreprise spécifique, pas la définition générale d'une organisation." },
                    { text: "Éliminer l'utilisation du papier dans tous les départements.", explain: "Bien que ce soit un bénéfice de la numérisation, ce n'est pas la mission fondamentale." },
                    { text: "Remplacer les employés par des systèmes d'intelligence artificielle.", explain: "L'organisation mobilise les ressources humaines et ne cherche pas à les remplacer systématiquement." }
                ],
                correct: 0,
                correctExplain: "Une organisation utilise ses ressources (humaines, matérielles, financières et informationnelles) pour convertir les données brutes en informations utiles à la prise de décision et à la création de valeur."
            },
            {
                q: "Parmi ces ressources, laquelle est considérée comme une ressource 'immatérielle' cruciale pour le spécialiste ?",
                options: [
                    { text: "Le matériel (serveurs)", explain: "Les serveurs sont des ressources matérielles physiques." },
                    { text: "L'information", explain: "" },
                    { text: "Les locaux de l'entreprise", explain: "Il s'agit d'une ressource matérielle immobilière." },
                    { text: "Le budget annuel", explain: "C'est une ressource financière, pas informationnelle." }
                ],
                correct: 1,
                correctExplain: "L'information est le flux de connaissances et de données que le spécialiste doit structurer, transporter et protéger."
            },
            {
                q: "À quelle étape du cycle de vie utilise-t-on le format 'User Stories' (En tant que... je veux... afin de...) ?",
                options: [
                    { text: "Développement", explain: "Le développement est l'étape du codage, pas de la définition du besoin." },
                    { text: "Maintenance", explain: "La maintenance intervient après le déploiement pour corriger des erreurs." },
                    { text: "Analyse des besoins", explain: "" },
                    { text: "Tests", explain: "Les tests servent à valider la solution par rapport aux spécifications déjà définies." }
                ],
                correct: 2,
                correctExplain: "Les User Stories sont utilisées durant l'analyse pour traduire les besoins des utilisateurs en fonctionnalités techniques claires."
            },
            {
                q: "Quel modèle est utilisé pour visualiser l'architecture logicielle à différents niveaux de détail (zoom) ?",
                options: [
                    { text: "BPMN", explain: "BPMN est utilisé pour la modélisation des processus d'affaires." },
                    { text: "Modèle C4", explain: "" },
                    { text: "Python", explain: "Python est un langage de programmation, pas un langage de modélisation visuelle." },
                    { text: "SQL", explain: "SQL est un langage de requête pour les bases de données." }
                ],
                correct: 1,
                correctExplain: "Le modèle C4 permet de visualiser l'architecture via des niveaux : Contexte, Conteneurs, Composants et Code."
            },
            {
                q: "Dans quel but utilise-t-on Git lors de l'étape de Développement ?",
                options: [
                    { text: "Pour gérer les versions du code et permettre le travail en équipe.", explain: "" },
                    { text: "Pour héberger les données confidentielles des clients.", explain: "Git gère le code source, pas les données de production sensibles." },
                    { text: "Pour tester la vitesse des serveurs.", explain: "Ceci relève des tests de performance ou de charge." },
                    { text: "Pour créer des schémas UML.", explain: "Git est un système de contrôle de version, pas un outil de dessin." }
                ],
                correct: 0,
                correctExplain: "Git assure la traçabilité des modifications et permet à plusieurs spécialistes de travailler sur le même projet sans écraser le travail des autres."
            },
            {
                q: "Quelle est la fonction principale d'un environnement de 'Pré-production' (Staging) ?",
                options: [
                    { text: "Servir de sauvegarde en cas d'incendie.", explain: "C'est le rôle d'un plan de relève ou de sauvegardes déportées." },
                    { text: "Permettre de coder sans aucune règle.", explain: "C'est la définition de l'environnement de développement (DEV)." },
                    { text: "Valider la solution dans une copie conforme de la production avant le lancement.", explain: "" },
                    { text: "Remplacer la production pour réduire les coûts.", explain: "La pré-prod coexiste avec la production pour garantir la sécurité du déploiement." }
                ],
                correct: 2,
                correctExplain: "La pré-prod permet d'effectuer les derniers tests avec des volumes réels et des configurations identiques au système final pour éviter les pannes au lancement."
            },
            {
                q: "Lequel est principalement responsable d'interpréter les données pour répondre aux questions d'affaires ?",
                options: [
                    { text: "Spécialiste de solutions de données", explain: "Le spécialiste bâtit les systèmes mais n'est pas le principal interprète des résultats d'affaires." },
                    { text: "Analyste de données", explain: "" },
                    { text: "Architecte de données", explain: "L'architecte conçoit la structure globale et la stratégie de stockage." },
                    { text: "Chef de projet", explain: "Le chef de projet coordonne les équipes et les délais." }
                ],
                correct: 1,
                correctExplain: "L'analyste fait le pont entre les données brutes et les besoins des gestionnaires pour expliquer les tendances ou les écarts."
            },
            {
                q: "Que signifie le terme 'Rollback' dans l'étape de Déploiement ?",
                options: [
                    { text: "Augmenter la capacité de stockage d'un serveur.", explain: "C'est de la mise à l'échelle (scaling)." },
                    { text: "Revenir à la version précédente en cas de problème majeur.", explain: "" },
                    { text: "Convertir des données NoSQL en format SQL.", explain: "C'est une transformation de données." },
                    { text: "Supprimer définitivement l'historique.", explain: "Le rollback utilise l'historique pour revenir en arrière." }
                ],
                correct: 1,
                correctExplain: "Le rollback est une stratégie de secours indispensable qui permet de restaurer instantanément la version stable précédente si une mise à jour échoue."
            },
            {
                q: "Qu'est-ce que la 'dette technique' dans la phase de Maintenance ?",
                options: [
                    { text: "L'argent emprunté pour acheter des serveurs.", explain: "Il s'agit d'une dette financière classique." },
                    { text: "Le coût des raccourcis pris lors du développement qu'il faudra corriger plus tard.", explain: "" },
                    { text: "Le montant des taxes à payer sur les logiciels.", explain: "Cela n'a aucun lien avec le développement logiciel." },
                    { text: "Le temps passé à se former sur de nouveaux outils.", explain: "C'est un investissement, pas une dette technique." }
                ],
                correct: 1,
                correctExplain: "La dette technique survient quand on privilégie la rapidité de livraison au détriment de la qualité du code, ce qui complique la maintenance future."
            },
            {
                q: "Quelle règle d'éthique est prioritaire lors de la réparation d'un flux de données ?",
                options: [
                    { text: "Accéder à toutes les données disponibles pour aller plus vite.", explain: "Ceci viole le principe de confidentialité." },
                    { text: "Ne consulter que les données nécessaires et protéger les infos personnelles.", explain: "" },
                    { text: "Partager les erreurs trouvées sur les réseaux sociaux.", explain: "Cela risque de divulguer des secrets commerciaux ou des failles de sécurité." },
                    { text: "Modifier les chiffres de vente pour plaire à la direction.", explain: "C'est une fraude qui détruit la fiabilité de l'information." }
                ],
                correct: 1,
                correctExplain: "En vertu de la Loi 25 (au Québec), le spécialiste doit respecter la limitation d'accès : ne traiter que les données pertinentes à sa tâche technique sans consulter les renseignements personnels inutiles."
            }
        ];

        let currentQuestion = 0;
        let answers = new Array(questions.length).fill(null);
        let answered = new Array(questions.length).fill(false);

        function displayQuestion() {
            const container = document.getElementById('quiz-container');
            const item = questions[currentQuestion];
            
            let html = `<div class="question">${currentQuestion + 1}. ${item.q}</div>`;
            const letters = ['A', 'B', 'C', 'D'];
            item.options.forEach((opt, i) => {
                let classes = '';
                if (answers[currentQuestion] === i) {
                    classes = 'selected ';
                    if (i === item.correct) {
                        classes += 'correct';
                    } else {
                        classes += 'incorrect';
                    }
                }
                const disabledClass = answered[currentQuestion] ? 'disabled' : '';
                html += `<div class="option ${classes} ${disabledClass}" onclick="${answered[currentQuestion] ? '' : `handleAnswerClick(${i})`}" style="${answered[currentQuestion] ? 'cursor: not-allowed;' : ''}"><span class="option-letter">${letters[i]}</span> ${opt.text}</div>`;
            });
            
            container.innerHTML = html;
            
            if (answered[currentQuestion]) {
                showFeedback();
            } else {
                document.getElementById('feedback').innerHTML = '';
                document.getElementById('feedback').classList.remove('show');
            }
            
            updateProgressBar();
            updateNavigationButtons();
            updateProgressInfo();
        }

        function handleAnswerClick(index) {
            if (answered[currentQuestion]) return;
            
            answers[currentQuestion] = index;
            answered[currentQuestion] = true;
            
            showFeedback();
            updateProgressBar();
            updateProgressInfo();
            updateNavigationButtons();
            displayQuestion();
        }

        function showFeedback() {
            const feedbackDiv = document.getElementById('feedback');
            const item = questions[currentQuestion];
            const isCorrect = answers[currentQuestion] === item.correct;
            const selectedOption = item.options[answers[currentQuestion]];
            
            feedbackDiv.className = 'feedback-container show ' + (isCorrect ? 'feedback-correct' : 'feedback-incorrect');
            
            let html = '';
            
            if (isCorrect) {
                html += `
                    <div class="feedback-header">Bonne réponse!</div>
                    <div class="feedback-explanation">${item.correctExplain}</div>
                `;
            } else {
                html += `
                    <div class="feedback-header">Pas tout à fait</div>
                    <div class="feedback-explanation">${selectedOption.explain}</div>
                    <div class="correct-answer-box">
                        <div class="correct-answer-label">✓ Bonne réponse:</div>
                        <div>${item.options[item.correct].text}</div>
                        <div style="margin-top: 8px; font-size: 0.9em;">${item.correctExplain}</div>
                    </div>
                `;
            }
            
            feedbackDiv.innerHTML = html;
        }

        function updateProgressBar() {
            const progressBar = document.getElementById('progressBar');
            progressBar.innerHTML = '';
            
            for (let i = 0; i < questions.length; i++) {
                const segment = document.createElement('div');
                segment.className = 'progress-segment';
                
                if (!answered[i]) {
                    segment.classList.add('unanswered');
                } else if (answers[i] === questions[i].correct) {
                    segment.classList.add('correct');
                } else {
                    segment.classList.add('incorrect');
                }
                
                progressBar.appendChild(segment);
            }
        }

        function updateNavigationButtons() {
            const isAnswered = answered[currentQuestion];
            document.getElementById('prevBtn').disabled = currentQuestion === 0 || !isAnswered;
            document.getElementById('nextBtn').disabled = !isAnswered;
            
            if (currentQuestion === questions.length - 1) {
                document.getElementById('nextBtn').textContent = 'Voir Résultat';
            } else {
                document.getElementById('nextBtn').textContent = 'Suivant →';
            }
        }

        function updateProgressInfo() {
            document.getElementById('question-counter').textContent = `Question ${currentQuestion + 1} / ${questions.length}`;
            
            let correctCount = 0;
            let incorrectCount = 0;
            
            for (let i = 0; i < answers.length; i++) {
                if (answered[i]) {
                    if (answers[i] === questions[i].correct) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            }
            
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('incorrect-count').textContent = incorrectCount;
        }

        function nextQuestion() {
            if (currentQuestion === questions.length - 1) {
                showFinalResults();
                return;
            }
            
            currentQuestion++;
            displayQuestion();
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        function showFinalResults() {
            let score = 0;
            answers.forEach((answer, index) => {
                if (answer === questions[index].correct) score++;
            });
            
            const container = document.getElementById('quiz-container');
            container.innerHTML = '<div class="question">Quiz terminé!</div>';
            
            const feedbackDiv = document.getElementById('feedback');
            feedbackDiv.className = 'feedback-container';
            feedbackDiv.innerHTML = '';
            
            let recapHtml = '<div class="recap-title">Résumé de vos réponses</div>';
            
            questions.forEach((question, index) => {
                const userAnswer = question.options[answers[index]];
                const correctAnswer = question.options[question.correct];
                const isCorrect = answers[index] === question.correct;
                
                recapHtml += `
                    <div class="recap-card ${isCorrect ? 'correct' : 'incorrect'}">
                        <div class="recap-number">Question ${index + 1} / ${questions.length}</div>
                        <div class="recap-question">${question.q}</div>
                        <div class="recap-answer-item user">
                            <span class="recap-label">Votre réponse:</span>
                            ${userAnswer.text}
                            <span class="recap-result ${isCorrect ? 'correct' : 'incorrect'}">
                                ${isCorrect ? '✓ Correct' : '✗ Incorrect'}
                            </span>
                        </div>
                        ${!isCorrect ? `
                            <div class="recap-answer-item correct-answer">
                                <span class="recap-label">Bonne réponse:</span>
                                ${correctAnswer.text}
                            </div>
                        ` : ''}
                    </div>
                `;
            });
            
            document.getElementById('result').innerHTML = `
                <div style="font-size: 2em; margin: 30px 0 20px;">Votre score : ${score} / ${questions.length}</div>
                <div style="font-size: 1.1em; color: #555; margin-bottom: 30px;">Réussite : ${Math.round(score / questions.length * 100)}%</div>
                <div class="recap-container">${recapHtml}</div>
            `;
            
            document.getElementById('prevBtn').disabled = false;
            document.getElementById('nextBtn').textContent = 'Recommencer';
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').onclick = function() { location.reload(); };
            document.getElementById('prevBtn').onclick = function() {
                currentQuestion = questions.length - 1;
                displayQuestion();
            };
        }

        displayQuestion();
    </script>
</body>
</html>
